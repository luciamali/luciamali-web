<!DOCTYPE html>
<html>
<head>
  <title>Selector de preguntas y respuestas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 5px;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    .columns {
      display: flex;
      gap: 20px;
    }

    .column {
      flex: 1;
    }

    button {
      margin-bottom: 10px;
      background-color: #333;
      color: #fff;
      border: none;
      padding: 4px 10px;
      font-size: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #555;
    }

    .search-container {
      margin-bottom: 10px;
    }

    input[type="text"],
    input[type="number"] {
      padding: 5px;
      font-size: 10px;
    }

    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    .reducir-texto {
      font-size: 14px;
    }

    .respuesta {
      display: none;
      margin-left: 10px;
      padding-top: 10px;
      border-top: 1px solid #ccc;
    }

    .respuesta.show {
      display: block;
    }
  </style>
  <script>
    var preguntasRespuestas = JSON.parse(localStorage.getItem("preguntasRespuestas")) || [];

    // Función para buscar preguntas en la lista
    function buscarPreguntas() {
      var input = document.getElementById("search-input");
      var filter = input.value.toUpperCase();
      var preguntas = document.getElementById("preguntas-respuestas").getElementsByTagName("li");

      for (var i = 0; i < preguntas.length; i++) {
        var pregunta = preguntas[i];
        var preguntaTexto = pregunta.textContent || pregunta.innerText;
        pregunta.style.display = preguntaTexto.toUpperCase().indexOf(filter) > -1 ? "block" : "none";
      }
    }

    // Función para mostrar u ocultar la respuesta aleatoria
    function toggleRespuestaAleatoria() {
      var respuestaElement = document.getElementById("respuesta-aleatoria");
      var toggleButton = document.getElementById("toggle-aleatoria");
      if (respuestaElement && toggleButton) {
        respuestaElement.classList.toggle("show");
        toggleButton.textContent = respuestaElement.classList.contains("show") ? "Ocultar respuesta" : "Mostrar respuesta";
      }
    }

    // Función para mostrar una pregunta aleatoria y su respuesta
    function mostrarPreguntaAleatoria() {
      var randomIndex = Math.floor(Math.random() * preguntasRespuestas.length);
      var randomPregunta = preguntasRespuestas[randomIndex];
      if (randomPregunta) {
        document.getElementById("pregunta-aleatoria").textContent = randomPregunta.pregunta;
        document.getElementById("respuesta-aleatoria").textContent = randomPregunta.respuesta;
        document.getElementById("respuesta-aleatoria").classList.remove("show");
        document.getElementById("toggle-aleatoria").textContent = "Mostrar respuesta";
      }
    }

    // Función para mostrar u ocultar la respuesta de una pregunta de la lista
    function toggleRespuesta(id) {
      var respuestaElement = document.getElementById("respuesta-" + id);
      var toggleButton = document.getElementById("toggle-" + id);
      if (respuestaElement && toggleButton) {
        respuestaElement.classList.toggle("show");
        toggleButton.textContent = respuestaElement.classList.contains("show") ? "Ocultar respuesta" : "Mostrar respuesta";
      }
    }

    // Función para agregar una pregunta nueva
    function agregarPregunta() {
      var preguntaInput = prompt("Ingrese una nueva pregunta:");
      var respuestaInput = prompt("Ingrese la respuesta para la pregunta:");

      if (preguntaInput && respuestaInput) {
        var id = preguntasRespuestas.length + 1;
        var nuevaPregunta = {
          id: id,
          pregunta: preguntaInput,
          respuesta: respuestaInput
        };
        preguntasRespuestas.push(nuevaPregunta);
        localStorage.setItem("preguntasRespuestas", JSON.stringify(preguntasRespuestas));

        var preguntaHTML = '<li class="reducir-texto">' + id + '. ' + preguntaInput + '</li>';
        var respuestaHTML = '<li><button id="toggle-' + id + '" onclick="toggleRespuesta(' + id + ')">Mostrar respuesta</button><span class="respuesta" id="respuesta-' + id + '">' + respuestaInput + '</span></li>';

        var preguntasRespuestasElement = document.getElementById("preguntas-respuestas");
        preguntasRespuestasElement.innerHTML += preguntaHTML + respuestaHTML;

        document.getElementById("search-input").value = "";
      }
    }

function borrarPregunta() {
  var idBorrar = parseInt(document.getElementById("id-borrar").value);
  var preguntaIndex = preguntasRespuestas.findIndex(function(item) {
    return item.id === idBorrar;
  });

  if (preguntaIndex !== -1) {
    preguntasRespuestas.splice(preguntaIndex, 1);
    localStorage.setItem("preguntasRespuestas", JSON.stringify(preguntasRespuestas));

    var preguntaElement = document.getElementById("pregunta-" + idBorrar);
    var respuestaElement = document.getElementById("respuesta-" + idBorrar);

    if (preguntaElement && respuestaElement) {
      preguntaElement.parentNode.parentNode.removeChild(preguntaElement.parentNode);
      respuestaElement.parentNode.parentNode.removeChild(respuestaElement.parentNode);
    }
  }
}




  </script>
</head>
<body>
  <div class="container">
    <h1>Selector de preguntas y respuestas</h1>
    <div class="columns">
      <div class="column left">
        <button onclick="mostrarPreguntaAleatoria()">Mostrar pregunta aleatoria</button>
        <p><strong>Pregunta:</strong>  <span id="pregunta-aleatoria"></span></p>
        <button onclick="toggleRespuestaAleatoria()" id="toggle-aleatoria">Mostrar respuesta</button>
        <p><strong>Respuesta:</strong> <span id="respuesta-aleatoria" class="respuesta"></span></p>
      </div>
      <div class="column right">
        <h2>Preguntas y Respuestas:</h2>
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Buscar preguntas" onkeyup="buscarPreguntas()">
        </div>
        <div>
          <h3>Acciones:</h3>
          <button onclick="agregarPregunta()">Agregar pregunta</button>
        </div>
        <div>
          <input type="number" id="id-borrar" placeholder="ID de la pregunta a borrar">
          <button onclick="borrarPregunta()">Borrar pregunta</button>
        </div>
        <ul id="preguntas-respuestas">
          <!-- Mostrar preguntas y respuestas existentes -->
          <script>
            preguntasRespuestas.forEach(function(item) {
              var preguntaHTML = '<li class="reducir-texto">' + item.id + '. ' + item.pregunta + '</li>';
              var respuestaHTML = '<li><button id="toggle-' + item.id + '" onclick="toggleRespuesta(' + item.id + ')">Mostrar respuesta</button><span class="respuesta" id="respuesta-' + item.id + '">' + item.respuesta + '</span></li>';
              document.getElementById("preguntas-respuestas").innerHTML += preguntaHTML + respuestaHTML;
            });
          </script>
        </ul>
      </div>
    </div>
  </div>
</body>
</html>
