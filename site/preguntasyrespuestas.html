// Función para mostrar u ocultar la respuesta de la pregunta aleatoria
function toggleRespuestaAleatoria() {
  var respuestaElement = document.getElementById("respuesta-aleatoria");
  var toggleButton = document.getElementById("toggle-aleatoria");
  if (respuestaElement && toggleButton) {
    if (respuestaElement.style.display === "none") {
      respuestaElement.style.display = "block";
      toggleButton.textContent = "Ocultar respuesta";
    } else {
      respuestaElement.style.display = "none";
      toggleButton.textContent = "Mostrar respuesta";
    }
  }
}

// Función para mostrar una pregunta aleatoria y su respuesta
function mostrarPreguntaAleatoria() {
  var randomIndex = Math.floor(Math.random() * preguntasRespuestas.length);
  var randomPregunta = preguntasRespuestas[randomIndex];
  if (randomPregunta) {
    document.getElementById("pregunta-aleatoria").textContent = randomPregunta.pregunta;
    document.getElementById("respuesta-aleatoria").textContent = randomPregunta.respuesta;
    document.getElementById("respuesta-aleatoria").style.display = "none";
    document.getElementById("toggle-aleatoria").textContent = "Mostrar respuesta";
  }
}

// Función para mostrar u ocultar la respuesta de una pregunta de la lista
function toggleRespuesta(id) {
  var respuestaElement = document.getElementById("respuesta-" + id);
  var toggleButton = document.getElementById("toggle-" + id);
  if (respuestaElement && toggleButton) {
    if (respuestaElement.style.display === "none") {
      respuestaElement.style.display = "block";
      toggleButton.textContent = "Ocultar respuesta";
    } else {
      respuestaElement.style.display = "none";
      toggleButton.textContent = "Mostrar respuesta";
    }
  }
}

// Función para agregar una pregunta y su respuesta al diccionario
function agregarPregunta() {
  var nuevaPregunta = prompt("Ingrese una nueva pregunta:");
  var nuevaRespuesta = prompt("Ingrese la respuesta a la pregunta:");

  if (nuevaPregunta && nuevaRespuesta) {
    var nuevoId = preguntasRespuestas.length + 1;

    preguntasRespuestas.push({
      id: nuevoId,
      pregunta: nuevaPregunta,
      respuesta: nuevaRespuesta
    });

    // Guardar las preguntas y respuestas actualizadas en el almacenamiento local
    localStorage.setItem("preguntasRespuestas", JSON.stringify(preguntasRespuestas));

    // Agregar la nueva pregunta y respuesta al DOM
    var nuevaPreguntaHTML = '<li>' + nuevoId + '. ' + nuevaPregunta + '</li>';
    var nuevaRespuestaHTML = '<li><button id="toggle-' + nuevoId + '" onclick="toggleRespuesta(' + nuevoId + ')">Mostrar respuesta</button><span class="respuesta" id="respuesta-' + nuevoId + '">' + nuevaRespuesta + '</span></li>';
    document.getElementById("preguntas-respuestas").innerHTML += nuevaPreguntaHTML + nuevaRespuestaHTML;
  }
}

// Función para borrar una pregunta y su respuesta del diccionario
function borrarPregunta() {
  var idBorrar = parseInt(document.getElementById("id-borrar").value);

  // Filtrar las preguntas y respuestas para obtener el nuevo arreglo sin la pregunta a borrar
  preguntasRespuestas = preguntasRespuestas.filter(function(item) {
    return item.id !== idBorrar;
  });

  // Guardar las preguntas y respuestas actualizadas en el almacenamiento local
  localStorage.setItem("preguntasRespuestas", JSON.stringify(preguntasRespuestas));

  // Remover la pregunta y respuesta del DOM
  var preguntaElement = document.getElementById("pregunta-" + idBorrar);
  var respuestaElement = document.getElementById("respuesta-" + idBorrar);

  if (preguntaElement) {
    preguntaElement.remove();
  }

  if (respuestaElement) {
    respuestaElement.parentNode.remove();
  }
}
